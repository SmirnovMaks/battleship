import React, { useState } from 'react';

import Board from '../Board/Board';

import style from './style.module.css';

const random = Math.trunc(Math.random() * 10);
console.log(random);
const variationsBoard = [
  [['.', 'X', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['X', '.', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['X', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['X', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['X', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['X', 'X', 'X', 'X', '.', '.', 'X', 'X', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['.', 'X', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['.', 'X', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', 'x', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', 'x', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', 'x', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['.', 'X', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['.', 'X', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['.', 'X', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
  [['.', 'X', '.', '.', 'X', '.', 'X', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', '.', '.', '.', '.', '.', '.', 'X', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['.', 'X', '.', '.', '.', '.', '.', '.', '.', '.'],
  ['.', 'X', '.', '.', '.', '.', 'X', '.', '.', 'X'],
  ['.', '.', '.', '.', '.', '.', '.', '.', '.', 'X'],
  ['X', 'X', 'X', '.', 'X', '.', '.', '.', '.', '.']],
]

const board = variationsBoard[random]

const Game = () => {
  const [shots, setShots] = useState(0);
  const [hits, setHits] = useState(0);

  const isShipCeil = (x, y) => board[x][y] === 'X';

  const onClickCell = (x, y) => {
    if (isShipCeil(x, y)) {
      setHits(hits + 1);
    }
    setShots(shots + 1);
  };

  return (
    <>
      <header className={style.header}>BATTLESHIP</header>
      <div className="info"></div>
      <main className={style.main}>
        <div className={style.info}>
          <div>Shots: {shots}</div>
          <div>Hits: {hits}</div>
        </div>
        <Board field={board} onClickCell={onClickCell}></Board>
      </main>
    </>
  );
};

export default Game;
